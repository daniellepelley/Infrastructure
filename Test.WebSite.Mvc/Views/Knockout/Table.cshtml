@model IEnumerable<Test.WebSite.Mvc.TestUser>

<!DOCTYPE html>

<script src="~/scripts/jquery-1.8.2.min.js" type="text/javascript"></script>
<script src="~/scripts/knockout-2.2.0.js" type="text/javascript"></script>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Table</title>
</head>



<body>
    <p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <table>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.FirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Telephone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateOfBirth)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NumberOfChildren)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Another)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Telephone)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateOfBirth)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NumberOfChildren)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Another)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                    @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                    @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
                </td>
            </tr>
        }

    </table>
    
    <div data-bind="foreach: items">
        <input type="text" data-bind="value: FirstName"/>
    </div>
    

    <table data-bind="template: { name: 'MyTemplate', foreach: items }">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LastName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Telephone)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DateOfBirth)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NumberOfChildren)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Another)
                </th>
                <th></th>
            </tr>
        </thead>
    </table>
    
    <table data-bind="template: { name: 'MyTemplate', foreach: items }">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LastName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Telephone)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DateOfBirth)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NumberOfChildren)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Another)
                </th>
                <th></th>
            </tr>
        </thead>
    </table>

</body>
</html>

<script id="MyTemplate" type="text/html">
    <tr>
        <td>
            <input type="text" data-bind="value: FirstName" />
        </td>
        <td data-bind="text: LastName"></td>
        <td data-bind="text: Telephone"></td>
        <td data-bind="text: FirstName"></td>
        <td data-bind="text: NumberOfChildren"></td>
        <td data-bind="text: Another"></td>
    </tr>
</script>



<script type="text/javascript">
    $(function () {
        function viewModel() {
            var self = this;
            self.items = ko.observableArray(
                @(Html.Raw(Json.Encode(Model))));
        }
        ko.applyBindings(new viewModel());
    });
</script>
